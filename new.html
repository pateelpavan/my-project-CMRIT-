<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMRIT Event Ticket Booking</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            position: relative;
            min-height: 650px;
            animation: containerFadeIn 1s ease-out;
        }
        
        @keyframes containerFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 180px;
            font-weight: 800;
            color: rgba(0, 0, 0, 0.03);
            z-index: 0;
            pointer-events: none;
            white-space: nowrap;
        }
        
        .page {
            padding: 30px;
            display: none;
            position: relative;
            z-index: 1;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            min-height: 590px;
        }
        
        .active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Page 1 Styles */
        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 1s ease-out;
        }
        
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .logo {
            width: 180px;
            height: 180px;
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            border: 3px solid #2c3e50;
            border-radius: 50%;
            background: linear-gradient(45deg, #3498db, #2c3e50);
            position: relative;
            overflow: hidden;
            animation: logoPulse 2s infinite alternate;
        }
        
        @keyframes logoPulse {
            from { transform: scale(1); box-shadow: 0 0 0 rgba(52, 152, 219, 0.4); }
            to { transform: scale(1.05); box-shadow: 0 0 20px rgba(52, 152, 219, 0.8); }
        }
        
        .logo-content h1 {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .logo-content p {
            font-size: 18px;
            color: #7f8c8d;
            font-style: italic;
        }
        
        .highlights {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 30px 0;
            animation: fadeInUp 1s ease-out 0.3s both;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .highlight-card {
            width: 30%;
            min-width: 250px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            transform: translateY(0);
            position: relative;
        }
        
        .highlight-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .highlight-img {
            height: 160px;
            background: linear-gradient(45deg, #3498db, #2c3e50);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .highlight-img::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.2));
        }
        
        .highlight-content {
            padding: 20px;
            text-align: center;
        }
        
        .highlight-content h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .btn {
            background: linear-gradient(45deg, #3498db, #2c3e50);
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: block;
            margin: 40px auto;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .btn:hover::after {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.6);
        }
        
        /* Page 2 Styles */
        .pin-container {
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .pin-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 18px;
            text-align: center;
            margin: 20px 0;
            transition: all 0.3s;
        }
        
        .pin-input:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }
        
        .error {
            color: #e74c3c;
            margin: 10px 0;
            display: none;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* Page 3 Styles */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            animation: fadeIn 0.8s ease-out;
        }
        
        .form-title {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
            position: relative;
            padding-bottom: 15px;
        }
        
        .form-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(45deg, #3498db, #2c3e50);
            border-radius: 2px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 14px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-group input:focus, .form-group select:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }
        
        /* Page 4 Styles */
        .ticket-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            position: relative;
            animation: ticketAppear 0.8s ease-out;
        }
        
        @keyframes ticketAppear {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .ticket-watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 100px;
            font-weight: 800;
            color: rgba(0, 0, 0, 0.03);
            z-index: 0;
            pointer-events: none;
        }
        
        .ticket-header {
            background: linear-gradient(45deg, #3498db, #2c3e50);
            padding: 25px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .ticket-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            transform: rotate(30deg);
        }
        
        .ticket-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            font-weight: bold;
            border: 2px solid white;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .ticket-body {
            padding: 30px;
            position: relative;
            z-index: 1;
        }
        
        .ticket-info {
            margin-bottom: 25px;
        }
        
        .ticket-info h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 2px dashed #ddd;
            padding-bottom: 12px;
            position: relative;
        }
        
        .ticket-info h3::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 12px;
            height: 12px;
            background: #f5f7fa;
            border: 2px dashed #ddd;
            border-radius: 50%;
        }
        
        .ticket-info h3::before {
            content: '';
            position: absolute;
            bottom: -6px;
            right: 0;
            width: 12px;
            height: 12px;
            background: #f5f7fa;
            border: 2px dashed #ddd;
            border-radius: 50%;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 0 10px;
            transition: background 0.3s;
            border-radius: 5px;
        }
        
        .info-row:hover {
            background: #f9f9f9;
        }
        
        .info-label {
            font-weight: 600;
            color: #7f8c8d;
        }
        
        .info-value {
            color: #2c3e50;
            font-weight: 500;
        }
        
        .qr-code {
            width: 150px;
            height: 150px;
            margin: 25px auto;
            background: #f9f9f9;
            padding: 12px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            animation: qrPulse 2s infinite alternate;
        }
        
        @keyframes qrPulse {
            from { transform: scale(1); }
            to { transform: scale(1.03); }
        }
        
        .ticket-footer {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 25px;
            border-top: 2px dashed #ddd;
            background: #f9f9f9;
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
            box-shadow: 0 5px 15px rgba(149, 165, 166, 0.4);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 8px 20px rgba(149, 165, 166, 0.6);
        }
        
        /* Confetti effect */
        .confetti {
            position: absolute;
            z-index: 100;
            pointer-events: none;
        }
        
        /* Footer Styles */
        .footer {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            text-align: center;
            margin-top: 30px;
            border-radius: 0 0 20px 20px;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .footer-logo {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #3498db;
        }
        
        .footer-text {
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .footer-rights {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 15px;
        }
        
        .ticket-footer-rights {
            text-align: center;
            padding: 15px;
            font-size: 10px;
            color: #7f8c8d;
            border-top: 1px dashed #ddd;
            background: #f9f9f9;
        }
        
        @media print {
            body * {
                visibility: hidden;
            }
            .ticket-container, .ticket-container * {
                visibility: visible;
            }
            .ticket-container {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
            }
            .ticket-footer, .ticket-footer-rights {
                display: block;
            }
            .no-print {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .highlight-card {
                width: 100%;
            }
            
            .watermark {
                font-size: 120px;
            }
            
            .ticket-footer {
                flex-direction: column;
                gap: 10px;
            }
            
            .footer {
                padding: 15px;
            }
        }
        
        /* Loading animation */
        .loader {
            display: none;
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Watermark -->
        <div class="watermark">CMRIT</div>
        
        <!-- Page 1: Landing Page -->
        <div class="page active" id="page1">
            <div class="header">
                <div class="logo"><img src="logo.png" alt="CMRIT Logo"></div>
                <div class="logo-content">
                    <h1>CMR Institute of Technology</h1>
                    <p>Explore to Invent</p>
                </div>
            </div>
            
            <div class="highlights">
                <div class="highlight-card">
                    <div class="highlight-img">NSS Achievements</div>
                    <div class="highlight-content">
                        <h3>NSS Achievements</h3>
                        <p>Our NSS unit has been recognized at state level for community service</p>
                    </div>
                </div>
                
                <div class="highlight-card">
                    <div class="highlight-img">Technical Fest</div>
                    <div class="highlight-content">
                        <h3>Technical Fest</h3>
                        <p>Annual technical fest with 1000+ participants from across the state</p>
                    </div>
                </div>
                
                <div class="highlight-card">
                    <div class="highlight-img">Cultural Events</div>
                    <div class="highlight-content">
                        <h3>Cultural Events</h3>
                        <p>Showcasing talent in music, dance, and arts from our students</p>
                    </div>
                </div>
            </div>
            
            <button class="btn" onclick="showPage(2)">Register for Event</button>
            
            <!-- Footer -->
            <div class="footer">
                <div class="footer-content">
                    <div class="footer-logo">NSS UNIT CMRIT</div>
                    <div class="footer-text">National Service Scheme - Not Me But You</div>
                    <div class="footer-text">CMR Institute of Technology, Hyderabad</div>
                    <div class="footer-rights">© 2025 CMRIT NSS Unit. All Rights Reserved.</div>
                </div>
            </div>
        </div>
        
        <!-- Page 2: Security Pin -->
        <div class="page" id="page2">
            <div class="pin-container">
                <h2>Security Authentication</h2>
                <p>Please enter the security pin to proceed with registration</p>
                
                <input type="password" class="pin-input" id="pinInput" placeholder="Enter security pin">
                <p class="error" id="pinError">Invalid pin. Please try again.</p>
                
                <div class="loader" id="pinLoader"></div>
                
                <button class="btn" onclick="validatePin()">Submit</button>
            </div>
            
            <!-- Footer -->
            <div class="footer">
                <div class="footer-content">
                    <div class="footer-logo">NSS UNIT CMRIT</div>
                    <div class="footer-text">National Service Scheme - Not Me But You</div>
                    <div class="footer-text">CMR Institute of Technology, Hyderabad</div>
                    <div class="footer-rights">© 2025 CMRIT NSS Unit. All Rights Reserved.</div>
                </div>
            </div>
        </div>
        
        <!-- Page 3: Registration Form -->
        <div class="page" id="page3">
            <h2 class="form-title">Event Registration Form</h2>
            
            <div class="form-container">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="rollNumber">Roll Number</label>
                        <input type="text" id="rollNumber" placeholder="Enter your roll number">
                    </div>
                    
                    <div class="form-group">
                        <label for="year">Year</label>
                        <select id="year">
                            <option value="">Select Year</option>
                            <option value="1st">1st Year</option>
                            <option value="2nd">2nd Year</option>
                            <option value="3rd">3rd Year</option>
                            <option value="4th">4th Year</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="branch">Branch</label>
                        <select id="branch">
                            <option value="">Select Branch</option>
                            <option value="CSE">CSE</option>
                            <option value="CSM">CSM</option>
                            <option value="CSD">CSD</option>
                            <option value="ECE">ECE</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="section">Section</label>
                        <select id="section">
                            <option value="">Select Section</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="mobile">Mobile Number</label>
                        <input type="tel" id="mobile" placeholder="Enter your mobile number">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="email">College Email ID</label>
                    <input type="email" id="email" placeholder="Enter your college email">
                </div>
                
                <div class="loader" id="formLoader"></div>
                
                <button class="btn" onclick="submitForm()">Submit Registration</button>
            </div>
            
            <!-- Footer -->
            <div class="footer">
                <div class="footer-content">
                    <div class="footer-logo">NSS UNIT CMRIT</div>
                    <div class="footer-text">National Service Scheme - Not Me But You</div>
                    <div class="footer-text">CMR Institute of Technology, Hyderabad</div>
                    <div class="footer-rights">© 2025 CMRIT NSS Unit. All Rights Reserved.</div>
                </div>
            </div>
        </div>
        
        <!-- Page 4: Ticket -->
        <div class="page" id="page4">
            <div class="ticket-container">
                <div class="ticket-watermark">CMRIT</div>
                
                <div class="ticket-header">
                    <div class="ticket-logo"><img src="logo.png" width="100" sizes="100" alt="CMRIT Logo"></div>
                    <h2>CMRIT(ETB) Event Ticket</h2>
                    <p>Explore to Invent</p>
                </div>
                
                <div class="ticket-body">
                    <div class="ticket-info">
                        <h3>Attendee Information</h3>
                        <div class="info-row">
                            <span class="info-label">Name:</span>
                            <span class="info-value" id="ticketName"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Roll No:</span>
                            <span class="info-value" id="ticketRoll"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Year & Branch:</span>
                            <span class="info-value" id="ticketYearBranch"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Section:</span>
                            <span class="info-value" id="ticketSection"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Mobile:</span>
                            <span class="info-value" id="ticketMobile"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Email:</span>
                            <span class="info-value" id="ticketEmail"></span>
                        </div>
                    </div>
                    
                    <div class="qr-code" id="qrcode"></div>
                </div>
                
                <div class="ticket-footer no-print">
                    <button class="btn" onclick="printTicket()">Print Ticket</button>
                    <button class="btn btn-secondary" onclick="downloadTicket()">Download Ticket</button>
                </div>
                
                <!-- Ticket Footer with Rights -->
                <div class="ticket-footer-rights">
                    <div>Issued by: CMRIT NSS Unit</div>
                    <div>© 2025 CMR Institute of Technology. All Rights Reserved.</div>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="footer no-print">
                <div class="footer-content">
                    <div class="footer-logo">NSS UNIT CMRIT</div>
                    <div class="footer-text">National Service Scheme - Not Me But You</div>
                    <div class="footer-text">CMR Institute of Technology, Hyderabad</div>
                    <div class="footer-rights">© 2025 CMRIT NSS Unit. All Rights Reserved.</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Database simulation using localStorage
        const database = {
            init: function() {
                if (!localStorage.getItem('registrations')) {
                    localStorage.setItem('registrations', JSON.stringify([]));
                }
            },
            save: function(data) {
                const registrations = JSON.parse(localStorage.getItem('registrations'));
                data.id = Date.now(); // Unique ID
                registrations.push(data);
                localStorage.setItem('registrations', JSON.stringify(registrations));
                return data.id;
            },
            get: function(id) {
                const registrations = JSON.parse(localStorage.getItem('registrations'));
                return registrations.find(reg => reg.id === id);
            }
        };
        
        // Initialize database
        database.init();
        
        // Show specific page with animation
        function showPage(pageNumber) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Add a small delay to allow the fade out animation to complete
            setTimeout(() => {
                document.getElementById('page' + pageNumber).classList.add('active');
                window.scrollTo(0, 0);
            }, 300);
        }
        
        // Validate security pin
        function validatePin() {
            const pin = document.getElementById('pinInput').value;
            const errorElement = document.getElementById('pinError');
            const loader = document.getElementById('pinLoader');
            
            // Show loading animation
            loader.style.display = 'block';
            
            // Simulate network delay
            setTimeout(() => {
                loader.style.display = 'none';
                
                if (pin === 'NSS2025') {
                    showPage(3);
                } else {
                    errorElement.style.display = 'block';
                    // Shake animation for error
                    document.getElementById('pinInput').classList.add('error');
                    setTimeout(() => {
                        document.getElementById('pinInput').classList.remove('error');
                    }, 500);
                }
            }, 1000);
        }
        
        // Submit registration form
        function submitForm() {
            const formData = {
                fullName: document.getElementById('fullName').value,
                rollNumber: document.getElementById('rollNumber').value,
                year: document.getElementById('year').value,
                branch: document.getElementById('branch').value,
                section: document.getElementById('section').value,
                mobile: document.getElementById('mobile').value,
                email: document.getElementById('email').value,
                date: new Date().toLocaleString()
            };
            
            // Simple validation
            let isValid = true;
            for (const key in formData) {
                if (!formData[key]) {
                    isValid = false;
                    // Highlight empty fields
                    const input = document.getElementById(key);
                    if (input) {
                        input.style.borderColor = '#e74c3c';
                        setTimeout(() => {
                            input.style.borderColor = '#ddd';
                        }, 2000);
                    }
                }
            }
            
            if (!isValid) {
                alert('Please fill all fields');
                return;
            }
            
            // Show loading animation
            document.getElementById('formLoader').style.display = 'block';
            
            // Simulate processing delay
            setTimeout(() => {
                // Save to database
                const id = database.save(formData);
                
                // Generate ticket
                generateTicket(formData, id);
                
                // Show ticket page
                showPage(4);
                
                // Create confetti effect
                createConfetti();
                
                document.getElementById('formLoader').style.display = 'none';
            }, 1500);
        }
        
        // Generate ticket with QR code
        function generateTicket(data, id) {
            document.getElementById('ticketName').textContent = data.fullName;
            document.getElementById('ticketRoll').textContent = data.rollNumber;
            document.getElementById('ticketYearBranch').textContent = `${data.year} Year, ${data.branch}`;
            document.getElementById('ticketSection').textContent = data.section;
            document.getElementById('ticketMobile').textContent = data.mobile;
            document.getElementById('ticketEmail').textContent = data.email;
            
            // Generate QR code
            const qrElement = document.getElementById('qrcode');
            qrElement.innerHTML = '';
            const qrcode = new QRCode(qrElement, {
                text: `CMRIT Event Ticket - ${data.fullName} - ${data.rollNumber} - ID: ${id}`,
                width: 130,
                height: 130
            });
        }
        
        // Print ticket
        function printTicket() {
            window.print();
        }
        
        // Download ticket (simulated)
        function downloadTicket() {
            // Simulate download process
            const btn = document.querySelector('.btn-secondary');
            const originalText = btn.textContent;
            
            btn.innerHTML = '<i class="fas fa-download"></i> Downloading...';
            btn.style.opacity = '0.8';
            
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.opacity = '1';
                alert('Ticket downloaded successfully!');
            }, 1500);
        }
        
        // Create confetti effect
        function createConfetti() {
            const colors = ['#3498db', '#2ecc71', '#e74c3c', '#f39c12', '#9b59b6'];
            const container = document.querySelector('.container');
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.width = Math.floor(Math.random() * 10 + 5) + 'px';
                confetti.style.height = Math.floor(Math.random() * 10 + 5) + 'px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-20px';
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                
                container.appendChild(confetti);
                
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.3, 1)'
                });
                
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
        }
        
        // Add event listener for Enter key on pin input
        document.getElementById('pinInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                validatePin();
            }
        });
        
        // Add input animations
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('focus', () => {
                input.parentElement.style.transform = 'translateY(-3px)';
            });
            
            input.addEventListener('blur', () => {
                input.parentElement.style.transform = 'translateY(0)';
            });
        });
    </script>
</body>
</html>